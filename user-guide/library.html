<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2017-05-02 
 | Rendered using Apache Maven Fluido Skin 1.4
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="Nicolas de Loof
Olivier Lamy" />
    <meta name="Date-Creation-yyyymmdd" content="20101126" />
    <meta name="Date-Revision-yyyymmdd" content="20170502" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Mojo's Maven Plugin for GWT &#x2013; Writing a GWT library</title>
    <link rel="stylesheet" href="../css/apache-maven-fluido-1.4.min.css" />
    <link rel="stylesheet" href="../css/site.css" />
    <link rel="stylesheet" href="../css/print.css" media="print" />

      
    <script type="text/javascript" src="../js/apache-maven-fluido-1.4.min.js"></script>

    
                  </head>
        <body class="topBarDisabled">
          
    
    
            
    
        
    <a href="https://github.com/gwt-maven-plugin/gwt-maven-plugin">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"
        alt="Fork me on GitHub">
    </a>
  
                
                    
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                    <a href="http://www.mojohaus.org" id="bannerLeft">
                                                                                                <img src="../images/mojo_logo.png"  alt="Mojo"/>
                </a>
                      </div>
        <div class="pull-right">                  <a href="http://www.gwtproject.org" id="bannerRight">
                                                                                                <img src="../images/gwt-maven-logo.png"  alt="Github"/>
                </a>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                              <li class="">
                    <a href="http://www.mojohaus.org/" class="externalLink" title="MojoHaus">
        MojoHaus</a>
                    <span class="divider">/</span>
      </li>
            <li class="">
                    <a href="http://www.mojohaus.org/mojo-parent" class="externalLink" title="MojoHaus Parent">
        MojoHaus Parent</a>
                    <span class="divider">/</span>
      </li>
            <li class="">
                    <a href="../" title="Mojo's Maven Plugin for GWT">
        Mojo's Maven Plugin for GWT</a>
                    <span class="divider">/</span>
      </li>
        <li class="active ">Writing a GWT library</li>
        
                
                    
                  <li id="publishDate" class="pull-right"><span class="divider">|</span> Last Published: 2017-05-02</li>
              <li id="projectVersion" class="pull-right">
                      <span class="divider">|</span>
                    Version: 2.8.2-SNAPSHOT
        </li>
            
                                    
    <li class="pull-right">
        <span class="divider">|</span>
                      <a href="https://developers.google.com/eclipse/" class="externalLink" title="Google Plugin for Eclipse">
        Google Plugin for Eclipse</a>
      </li>

  
    <li class="pull-right">
        <span class="divider">|</span>
                      <a href="http://www.gwtproject.org/" class="externalLink" title="GWT Project">
        GWT Project</a>
      </li>

  
    <li class="pull-right">
                      <a href="http://maven.apache.org/" class="externalLink" title="Maven">
        Maven</a>
      </li>

                    </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">User Guide</li>
                              
      <li>
  
                          <a href="../index.html" title="Introduction">
          <span class="none"></span>
        Introduction</a>
            </li>
                
      <li>
  
                          <a href="../user-guide/archetype.html" title="Using the archetype">
          <span class="none"></span>
        Using the archetype</a>
            </li>
                
      <li>
  
                          <a href="../user-guide/project.html" title="Project organization">
          <span class="none"></span>
        Project organization</a>
            </li>
                
      <li>
  
                          <a href="../user-guide/compile.html" title="Compile and Debug">
          <span class="none"></span>
        Compile and Debug</a>
            </li>
                
      <li>
  
                          <a href="../user-guide/i18n.html" title="Internationalization">
          <span class="none"></span>
        Internationalization</a>
            </li>
                
      <li>
  
                          <a href="../user-guide/testing.html" title="Testing">
          <span class="none"></span>
        Testing</a>
            </li>
                
      <li>
  
                          <a href="../user-guide/hosted.html" title="Run Dev Mode">
          <span class="none"></span>
        Run Dev Mode</a>
            </li>
                
      <li>
  
                          <a href="../user-guide/async.html" title="Async interfaces">
          <span class="none"></span>
        Async interfaces</a>
            </li>
                
      <li>
  
                          <a href="../user-guide/comfortable_debugging.html" title="Comfortable debugging">
          <span class="none"></span>
        Comfortable debugging</a>
            </li>
                
      <li>
  
                          <a href="../user-guide/productivity.html" title="Productivity Tips">
          <span class="none"></span>
        Productivity Tips</a>
            </li>
                
      <li>
  
                          <a href="../user-guide/appengine-launcher.html" title="Using AppEngine launcher in dev mode">
          <span class="none"></span>
        Using AppEngine launcher in dev mode</a>
            </li>
                
      <li>
  
                          <a href="../user-guide/css-interface-generator.html" title="Using the CSS Interface Generator">
          <span class="none"></span>
        Using the CSS Interface Generator</a>
            </li>
                
      <li>
  
                          <a href="../eclipse/google_plugin.html" title="Google Plugin for Eclipse">
          <span class="none"></span>
        Google Plugin for Eclipse</a>
            </li>
                
      <li class="active">
  
            <a href="#"><span class="none"></span>Writing a Library</a>
          </li>
                
      <li>
  
                          <a href="../user-guide/compiler-report.html" title="Compiler Report">
          <span class="none"></span>
        Compiler Report</a>
            </li>
                
      <li>
  
                          <a href="../user-guide/remoteservicerelativepath-annotation.html" title="Processing Annotation @RemoteServiceRelativePath">
          <span class="none"></span>
        Processing Annotation @RemoteServiceRelativePath</a>
            </li>
                
      <li>
  
                          <a href="../user-guide/using-different-gwt-sdk-version.html" title="Using a different GWT SDK Version">
          <span class="none"></span>
        Using a different GWT SDK Version</a>
            </li>
                              <li class="nav-header">Reference</li>
                              
      <li>
  
                          <a href="../plugin-info.html" title="Goals">
          <span class="none"></span>
        Goals</a>
            </li>
                
      <li>
  
                          <a href="../faq.html" title="FAQ">
          <span class="none"></span>
        FAQ</a>
            </li>
                              <li class="nav-header">Project Documentation</li>
                                                                                                                                                                                                                                                                                                        
      <li>
  
                          <a href="../project-info.html" title="Project Information">
          <span class="icon-chevron-right"></span>
        Project Information</a>
                  </li>
                                                                                                                                                                                                                                                      
      <li>
  
                          <a href="../project-reports.html" title="Project Reports">
          <span class="icon-chevron-right"></span>
        Project Reports</a>
                  </li>
            </ul>
                
                    
                            <form id="search-form" action="https://www.google.com/search" method="get" >
    
  <input value="gwt-maven-plugin.github.io/gwt-maven-plugin/" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript" src="https://www.google.com/coop/cse/brand?form=search-form"></script>
          
          <hr />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="../images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span10" >
                                  
            <!-- Licensed to the Apache Software Foundation (ASF) under one --><!-- or more contributor license agreements.  See the NOTICE file --><!-- distributed with this work for additional information --><!-- regarding copyright ownership.  The ASF licenses this file --><!-- to you under the Apache License, Version 2.0 (the --><!-- "License"); you may not use this file except in compliance --><!-- with the License.  You may obtain a copy of the License at --><!--  --><!-- http://www.apache.org/licenses/LICENSE-2.0 --><!--  --><!-- Unless required by applicable law or agreed to in writing, --><!-- software distributed under the License is distributed on an --><!-- "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY --><!-- KIND, either express or implied.  See the License for the --><!-- specific language governing permissions and limitations --><!-- under the License. --><!-- NOTE: For help with the syntax of this file, see: --><!-- http://maven.apache.org/doxia/references/apt-format.html --><div style="color: #00529B; background-color: #BDE5F8; padding: 20px; border-radius: 4px; border: 1px solid #6ea1cf;">
    <b>NOTICE</b> There is a <a href="https://github.com/tbroyer/gwt-maven-plugin">new plugin</a>
    (<a href="https://github.com/tbroyer/gwt-maven-archetypes">archetypes</a> and
    <a href="http://gwt-plugins.github.io/documentation/gwt-eclipse-plugin/maven/Maven.html">eclipse integration</a>),
    a fresh start that correctly support multi-module projects, it is not version-bounded with GWT, support multiples
    GWT versions and other fixes, improvements and best practices. This plugin is now considered the <em>legacy GWT
    maven plugin</em> (aka <b>mojo</b> GWT maven plugin) and the new one is considered the <em>new generation GWT maven
    plugin</em> (aka <b>tbroyer</b> GWT maven plugin). The legacy maven plugin is still supported but it is strongly
    encouraged to use the new one for new projects.
</div>
<div class="section">
<h2><a name="Writing_a_GWT_library_a.k.a._gwt_lib"></a>Writing a GWT library (a.k.a. gwt lib)</h2>
<p>A GWT library can be used to package classes for mutualization and/or modularization. A GWT library is just a java archive (JAR) containing both classes and java sources for later GWT compilation and a gwt.xml module descriptor.</p>
<div class="section">
<h3><a name="Packaging"></a>Packaging</h3>
<p>The only distinction with a standard JAR project is the mix of sources and classes in the output folder. A simple way to achieve this is to add a dedicated <tt>resource</tt> in the POM :</p>
<div class="source"><pre class="prettyprint">    &lt;resources&gt;
      &lt;resource&gt;
        &lt;directory&gt;src/main/java&lt;/directory&gt;
        &lt;includes&gt;
          &lt;include&gt;**/*.java&lt;/include&gt;
          &lt;include&gt;**/*.gwt.xml&lt;/include&gt;
        &lt;/includes&gt;
      &lt;/resource&gt;
    &lt;/resources&gt;</pre></div></div></div>
<div class="section">
<h2><a name="Using_general_purpose_JARs_as_GWT_library_a.k.a._shared_lib"></a>Using general purpose JARs as GWT library (a.k.a. shared lib)</h2>
<p>Many users want to use common usage libraries as GWT modules. Some would like to reuse the server-side business classes on client side, using a shared Maven module. The requirement to include sources in the JAR can then be annoying : including sur JAR in the webapp means the source code will be distributed with the application.</p>
<p>As the sources are not included in the JAR, you need to use the <a class="externalLink" href="http://maven.apache.org/plugins/maven-source-plugin/jar-mojo.html">maven convention for source jars</a> to create a ''sources'' package, and include it as a ''<i>clasifier</i>sources<i>/clasifier</i>'' dependency.</p>
<div class="source"><pre class="prettyprint">&lt;dependencies&gt;
  &lt;dependency&gt;
    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;
    &lt;artifactId&gt;domain&lt;/artifactId&gt;
    &lt;version&gt;${project.version}&lt;/version&gt;
    &lt;classifier&gt;sources&lt;/classifier&gt;
    &lt;scope&gt;provided&lt;/scope&gt;
  &lt;/dependency&gt;
&lt;/dependencies&gt;</pre></div>
<p>The only missing fragment to allow using this library from your GWT code is to create a ''gwt.xml'' module file. Create file ''com/mycompany/Domain.gwt.xml'' to match package ''com.mycompany.domain'':</p>
<div class="source"><pre class="prettyprint">&lt;module&gt;
  &lt;inherits name=&quot;com.google.gwt.user.User&quot;/&gt;
  &lt;source path=&quot;domain&quot;/&gt;
&lt;/module&gt;
</pre></div>
<p>If you have control of the ''domain'' lib, include this file in the ''domain'' project:</p>
<div class="source"><pre class="prettyprint">  |_ domain
  |  |_ src/main/java/com/mycompany/domain/SomeDomainClass.java
  |  |_ src/main/resources/com/mycompany/Domain.gwt.xml
  |_ webapp
     |_ src/main/resources/com/mycompany/web/MyApp.gwt.xml</pre></div>
<p>&#x2026;otherwise, add the GWT module in the ''webapp'' project:</p>
<div class="source"><pre class="prettyprint">  |_ domain
  |  |_ src/main/java/com/mycompany/domain/SomeDomainClass.java
  |_ webapp
  |  |_ src/main/resources
        |_ com/mycompany/Domain.gwt.xml
        |_ com/mycompany/MyApp.gwt.xml</pre></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
                      <div class="row-fluid">
                                      <p >Copyright &copy;                    2007&#x2013;2017
                        <a href="http://www.mojohaus.org">MojoHaus</a>.
            All rights reserved.      
                    
      </p>
                </div>

        
          
    
    
                
    <div id="ohloh" class="pull-right">
      <script type="text/javascript" src="https://www.ohloh.net/p/5211/widgets/project_thin_badge.js"></script>
    </div>
        </div>
    </footer>
        </body>
</html>
